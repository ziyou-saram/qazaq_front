{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/alikhanzhumabayev/Downloads/qazaq_full_project/frontend/apps/cms/src/actions/auth.ts"],"sourcesContent":["'use server'\n\nimport { cookies } from 'next/headers'\nimport { redirect } from 'next/navigation'\nimport { api } from '@/lib/api'\n\nexport async function login(prevState: any, formData: FormData) {\n    const email = formData.get('email') as string\n    const password = formData.get('password') as string\n\n    try {\n        const response = await api.auth.login({ email, password })\n\n        const cookieStore = await cookies()\n        cookieStore.set('access_token', response.access_token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === 'production',\n            maxAge: 60 * 60 * 24 * 7, // 1 week\n            path: '/',\n        })\n\n        cookieStore.set('refresh_token', response.refresh_token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === 'production',\n            maxAge: 60 * 60 * 24 * 30, // 30 days\n            path: '/',\n        })\n\n    } catch (error) {\n        return { error: 'Неверный email или пароль' }\n    }\n\n    redirect('/cms/dashboard')\n}\n\nexport async function logout() {\n    const cookieStore = await cookies()\n    cookieStore.delete('access_token')\n    cookieStore.delete('refresh_token')\n    redirect('/login')\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;;;;;;AAEO,eAAe,MAAM,SAAc,EAAE,QAAkB;IAC1D,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAE9B,IAAI;QACA,MAAM,WAAW,MAAM,uIAAG,CAAC,IAAI,CAAC,KAAK,CAAC;YAAE;YAAO;QAAS;QAExD,MAAM,cAAc,MAAM,IAAA,0IAAO;QACjC,YAAY,GAAG,CAAC,gBAAgB,SAAS,YAAY,EAAE;YACnD,UAAU;YACV,QAAQ,oDAAyB;YACjC,QAAQ,KAAK,KAAK,KAAK;YACvB,MAAM;QACV;QAEA,YAAY,GAAG,CAAC,iBAAiB,SAAS,aAAa,EAAE;YACrD,UAAU;YACV,QAAQ,oDAAyB;YACjC,QAAQ,KAAK,KAAK,KAAK;YACvB,MAAM;QACV;IAEJ,EAAE,OAAO,OAAO;QACZ,OAAO;YAAE,OAAO;QAA4B;IAChD;IAEA,IAAA,iMAAQ,EAAC;AACb;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,YAAY,MAAM,CAAC;IACnB,YAAY,MAAM,CAAC;IACnB,IAAA,iMAAQ,EAAC;AACb;;;IAlCsB;IA6BA;;AA7BA,+OAAA;AA6BA,+OAAA"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/alikhanzhumabayev/Downloads/qazaq_full_project/frontend/apps/cms/src/actions/admin.ts"],"sourcesContent":["'use server'\n\nimport { revalidatePath } from 'next/cache'\nimport { getServerApi } from '@/lib/api'\n\nexport async function updateUserRole(userId: number, role: string) {\n    const api = await getServerApi();\n\n    try {\n        await api.request(`/cms/admin/users/${userId}/role`, {\n            method: 'PUT',\n            body: JSON.stringify({ role }),\n        });\n    } catch (error) {\n        if (error instanceof Error) {\n            return { error: error.message };\n        }\n        return { error: 'Не удалось обновить роль пользователя' };\n    }\n\n    revalidatePath('/cms/admin');\n}\n\nexport async function updateUserStatus(userId: number, isActive: boolean) {\n    const api = await getServerApi();\n\n    try {\n        await api.request(`/cms/admin/users/${userId}/status`, {\n            method: 'PUT',\n            body: JSON.stringify({ is_active: isActive }),\n        });\n    } catch (error) {\n        if (error instanceof Error) {\n            return { error: error.message };\n        }\n        return { error: 'Не удалось обновить статус пользователя' };\n    }\n\n    revalidatePath('/cms/admin');\n}\n\nexport async function deleteContent(id: number) {\n    const api = await getServerApi();\n\n    try {\n        await api.request(`/cms/admin/content/${id}`, {\n            method: 'DELETE',\n        });\n    } catch (error) {\n        if (error instanceof Error) {\n            return { error: error.message };\n        }\n        return { error: 'Не удалось удалить материал' };\n    }\n\n    revalidatePath('/cms/admin');\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;;;;;AAEO,eAAe,eAAe,MAAc,EAAE,IAAY;IAC7D,MAAM,MAAM,MAAM,IAAA,gJAAY;IAE9B,IAAI;QACA,MAAM,IAAI,OAAO,CAAC,CAAC,iBAAiB,EAAE,OAAO,KAAK,CAAC,EAAE;YACjD,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAK;QAChC;IACJ,EAAE,OAAO,OAAO;QACZ,IAAI,iBAAiB,OAAO;YACxB,OAAO;gBAAE,OAAO,MAAM,OAAO;YAAC;QAClC;QACA,OAAO;YAAE,OAAO;QAAwC;IAC5D;IAEA,IAAA,+IAAc,EAAC;AACnB;AAEO,eAAe,iBAAiB,MAAc,EAAE,QAAiB;IACpE,MAAM,MAAM,MAAM,IAAA,gJAAY;IAE9B,IAAI;QACA,MAAM,IAAI,OAAO,CAAC,CAAC,iBAAiB,EAAE,OAAO,OAAO,CAAC,EAAE;YACnD,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE,WAAW;YAAS;QAC/C;IACJ,EAAE,OAAO,OAAO;QACZ,IAAI,iBAAiB,OAAO;YACxB,OAAO;gBAAE,OAAO,MAAM,OAAO;YAAC;QAClC;QACA,OAAO;YAAE,OAAO;QAA0C;IAC9D;IAEA,IAAA,+IAAc,EAAC;AACnB;AAEO,eAAe,cAAc,EAAU;IAC1C,MAAM,MAAM,MAAM,IAAA,gJAAY;IAE9B,IAAI;QACA,MAAM,IAAI,OAAO,CAAC,CAAC,mBAAmB,EAAE,IAAI,EAAE;YAC1C,QAAQ;QACZ;IACJ,EAAE,OAAO,OAAO;QACZ,IAAI,iBAAiB,OAAO;YACxB,OAAO;gBAAE,OAAO,MAAM,OAAO;YAAC;QAClC;QACA,OAAO;YAAE,OAAO;QAA8B;IAClD;IAEA,IAAA,+IAAc,EAAC;IACf,OAAO;QAAE,SAAS;IAAK;AAC3B;;;IApDsB;IAkBA;IAkBA;;AApCA,+OAAA;AAkBA,+OAAA;AAkBA,+OAAA"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/alikhanzhumabayev/Downloads/qazaq_full_project/frontend/apps/cms/.next-internal/server/app/cms/admin/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logout as '006be408f301c3b0a72fcb75c3d6af7213e8a6f67b'} from 'ACTIONS_MODULE0'\nexport {updateUserRole as '60ab76a868f8d979fa1c6b11789ba0ff1f7178b64d'} from 'ACTIONS_MODULE1'\nexport {updateUserStatus as '60dd0b48f7ca384aae32aa67491335863474fbfd53'} from 'ACTIONS_MODULE1'\nexport {deleteContent as '403077db7db7ea8e22decd2064a5150e1efc23a023'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}}]
}